Search.setIndex({"docnames": ["about/authors", "about/changelog", "about/index", "api/_autosummary/lmflow.args", "autoapi/index", "autoapi/lmflow_benchmark/args/index", "autoapi/lmflow_benchmark/index", "autoapi/lmflow_benchmark/version/index", "blogs/benchmark", "blogs/index", "examples/DATASETS", "examples/TASK_GUIDE", "examples/checkpoints", "examples/index", "examples/medical_finetune", "examples/raft", "examples/reward_modeling", "index"], "filenames": ["about/authors.md", "about/changelog.md", "about/index.md", "api/_autosummary/lmflow.args.rst", "autoapi/index.rst", "autoapi/lmflow_benchmark/args/index.rst", "autoapi/lmflow_benchmark/index.rst", "autoapi/lmflow_benchmark/version/index.rst", "blogs/benchmark.md", "blogs/index.md", "examples/DATASETS.md", "examples/TASK_GUIDE.md", "examples/checkpoints.md", "examples/index.md", "examples/medical_finetune.md", "examples/raft.md", "examples/reward_modeling.md", "index.md"], "titles": ["Contributors", "Changelog", "About", "lmflow.args", "API Reference", "<code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">lmflow_benchmark.args</span></code>", "<code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">lmflow_benchmark</span></code>", "<code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">lmflow_benchmark.version</span></code>", "LMFlow Benchmark: An Automatic Evaluation Framework for Open-Source LLMs", "Blogs", "Dataset", "LMFlow Benchmark Guide", "Checkpoints", "Examples", "Finetune", "Reward rAnked FineTuning (RAFT)", "Reward Modeling", "LMFlow"], "terms": {"shizh": [0, 17], "diao": [0, 17], "rui": [0, 17], "pan": [0, 17], "hanz": [0, 17], "dong": [0, 17], "ka": 0, "shun": 0, "shum": [0, 17], "jipeng": [0, 17], "zhang": [0, 17], "wei": [0, 17], "xiong": [0, 17], "tong": [0, 17], "The": [1, 8, 10, 15, 16, 17], "first": [1, 8, 11, 12, 16], "public": 1, "task": [1, 8, 13], "tune": [1, 8, 14, 15, 16], "instruct": [1, 16], "user": [1, 8, 10, 11, 15, 17], "defin": [1, 3, 5, 10, 15], "dataset": [1, 3, 8, 13, 14, 15, 16, 17], "A": [1, 8, 16], "simpl": [1, 8, 16], "extens": [1, 15, 17], "api": [1, 8, 17], "develop": [1, 8], "effici": [1, 8, 17], "finetun": [1, 8, 10, 12, 17], "lora": [1, 15, 16, 17], "simplifi": [1, 16, 17], "model": [1, 3, 8, 10, 12, 13, 14, 15, 17], "infer": [1, 10, 17], "framework": [1, 9, 15, 16], "changelog": [2, 17], "version": [2, 3, 4, 6, 8], "0": [2, 6, 7, 8, 12, 16, 17], "1": [2, 4, 6, 7, 8, 10, 13, 14, 17], "mar": 2, "28": [2, 17], "2023": [2, 8, 17], "contributor": [2, 17], "thi": [3, 4, 5, 8, 10, 11, 15, 16, 17], "script": [3, 5, 12, 14, 15, 16], "dataclass": 3, "modelargu": [3, 14], "datasetargu": [3, 14], "contain": [3, 4, 8, 10], "argument": [3, 5, 14], "us": [3, 8, 10, 11, 12, 13, 15, 16, 17], "train": [3, 8, 10, 11, 15, 16, 17], "It": [3, 8, 16, 17], "import": [3, 8, 14, 15, 17], "sever": [3, 8, 10, 11, 13], "modul": 3, "includ": [3, 8, 16, 17], "field": [3, 16, 17], "from": [3, 8, 12, 14, 15, 16, 17], "type": [3, 8, 10, 11, 15, 16], "option": [3, 5, 8, 12], "require_vers": 3, "transform": [3, 14], "util": [3, 8, 17], "model_for_causal_lm_map": 3, "trainingargu": 3, "model_config_class": 3, "i": [3, 8, 10, 12, 15, 16, 17], "assign": 3, "list": [3, 10, 17], "config": [3, 14, 16], "class": 3, "model_typ": 3, "tupl": 3, "extract": 3, "page": [4, 8, 17], "auto": 4, "gener": [4, 8, 12, 13, 15, 16, 17], "document": [4, 8], "lmflow_benchmark": [4, 17], "arg": [4, 6, 14], "creat": [4, 13, 16, 17], "sphinx": 4, "autoapi": 4, "common": [5, 8, 10, 17], "benchmarkingargu": 5, "sourc": [5, 6, 7, 9, 10, 17], "dataset_nam": [5, 11], "str": [5, 15], "lm_evaluation_metr": 5, "internal_vers": 6, "__version__": [6, 7], "mai": [8, 10, 11, 16], "9": [8, 11, 17], "style": 8, "larg": [8, 15, 17], "languag": [8, 15, 17], "ha": [8, 10, 15], "been": 8, "huge": 8, "challeng": [8, 15, 16], "sinc": [8, 10], "breakthrough": 8, "chatgpt": [8, 17], "On": 8, "one": [8, 11, 14, 15, 16], "hand": [8, 17], "research": 8, "engin": [8, 10], "need": [8, 11, 12, 15, 16, 17], "reliabl": [8, 17], "wai": [8, 10, 11, 12, 16], "compar": [8, 16, 17], "two": [8, 11, 16], "decid": [8, 11], "which": [8, 10, 15, 16, 17], "choos": [8, 16], "under": [8, 10, 11, 15, 17], "certain": [8, 16], "applic": [8, 17], "scenario": [8, 15], "other": [8, 16, 17], "thei": [8, 10, 16], "have": [8, 10, 11, 12, 15, 16, 17], "monitor": 8, "dure": 8, "avoid": 8, "issu": [8, 12, 15, 17], "forget": 8, "recent": 8, "work": [8, 15, 16], "vicuna": 8, "introduc": [8, 17], "comparison": 8, "method": [8, 17], "human": [8, 11, 15, 16, 17], "k": [8, 16], "chatbot": [8, 15], "arena": 8, "also": [8, 11, 16, 17], "pioneer": 8, "invok": 8, "gpt": [8, 16, 17], "4": [8, 10, 17], "output": [8, 10], "howev": [8, 12, 17], "those": 8, "requir": [8, 16, 17], "expens": 8, "label": [8, 16], "call": 8, "ar": [8, 10, 11, 12, 16, 17], "neither": 8, "scalabl": [8, 17], "nor": 8, "conveni": [8, 17], "In": [8, 11, 12, 15, 16], "articl": 8, "we": [8, 10, 11, 13, 14, 15, 16, 17], "new": [8, 11, 16, 17], "provid": [8, 10, 11, 13, 15, 16, 17], "cheap": 8, "easi": [8, 16], "can": [8, 10, 11, 12, 15, 16, 17], "help": [8, 16, 17], "reflect": 8, "differ": [8, 12], "aspect": 8, "code": 8, "well": [8, 15, 17], "so": [8, 15, 16, 17], "everyon": 8, "commun": [8, 17], "toolkit": [8, 17], "our": [8, 10, 11, 12, 13, 14, 15, 17], "neg": [8, 11, 16, 17], "log": [8, 11], "likelihood": [8, 11], "nll": [8, 13], "correspond": [8, 10], "": [8, 11, 14, 15, 16, 17], "predict": 8, "probabl": [8, 16], "over": [8, 10, 16], "corpu": 8, "set": [8, 10, 12, 13, 15, 16], "given": [8, 11, 15, 16], "context": 8, "If": [8, 11, 14, 16, 17], "itself": 8, "indic": [8, 10], "abil": [8, 17], "multi": 8, "round": 8, "convers": 8, "math": 8, "problem": [8, 13, 16], "solv": 8, "role": 8, "plai": 8, "corpora": 8, "quantit": 8, "kei": [8, 10, 11, 16], "idea": [8, 16], "behind": 8, "posit": [8, 15, 16, 17], "correl": 8, "For": [8, 10, 13, 16, 17], "instanc": [8, 10, 15, 16, 17], "essai": 8, "write": 8, "should": [8, 16], "understand": [8, 17], "just": [8, 16], "like": [8, 11, 16, 17], "chess": 8, "master": 8, "memor": 8, "endgam": 8, "chessboard": 8, "besid": 8, "anoth": 8, "similar": [8, 12], "commonli": [8, 17], "nlp": 8, "perplex": 8, "ppl": 8, "nevertheless": 8, "intrins": 8, "depend": [8, 16], "length": 8, "token": [8, 14, 16], "sequenc": 8, "induc": 8, "unfair": [8, 15], "between": 8, "exampl": [8, 10, 11, 12, 15, 17], "smaller": 8, "vocabulari": 8, "size": 8, "inher": 8, "result": [8, 15, 17], "longer": 8, "lower": 8, "level": [8, 17], "thu": 8, "all": [8, 10, 12, 16, 17], "experi": [8, 15], "instead": 8, "One": 8, "advantag": 8, "doe": [8, 17], "involv": [8, 16], "process": [8, 13, 14, 15, 16, 17], "As": [8, 10, 16], "long": [8, 10], "test": [8, 10, 12, 16, 17], "make": [8, 11, 16, 17], "more": [8, 15, 16, 17], "access": [8, 12, 17], "its": [8, 17], "good": [8, 12, 16], "experiment": 8, "qa": 8, "find": [8, 16], "accuraci": [8, 16, 17], "when": [8, 16], "singl": [8, 10, 16], "tabl": [8, 11], "tradit": 8, "winogrand": 8, "boolq": 8, "arc_": 8, "hellaswag": 8, "piqa": 8, "obqa": 8, "arc_c": 8, "averag": [8, 17], "bloom": [8, 17], "3b": [8, 16], "58": [8, 16, 17], "7": [8, 17], "61": [8, 17], "6": [8, 17], "59": [8, 17], "5": [8, 16, 17], "52": [8, 16], "70": [8, 17], "8": [8, 17], "42": 8, "2": [8, 10, 13, 14, 17], "30": [8, 17], "53": 8, "1b": 8, "64": [8, 16, 17], "62": 8, "65": [8, 16, 17], "73": [8, 17], "35": [8, 17], "33": 8, "56": [8, 17], "3": [8, 10, 11, 17], "opt": [8, 17], "9b": 8, "66": [8, 17], "67": [8, 17], "76": 8, "37": [8, 17], "34": 8, "13b": 8, "69": [8, 16, 17], "39": [8, 17], "llama": [8, 13, 15, 16, 17], "7b": [8, 12, 15, 16, 17], "78": [8, 17], "41": 8, "68": [8, 17], "74": [8, 17], "79": [8, 16], "44": [8, 17], "86": 8, "228": 8, "245": 8, "134": 8, "101": 8, "135": 8, "85": [8, 17], "215": 8, "81": 8, "237": 8, "130": 8, "96": 8, "129": 8, "200": 8, "224": 8, "125": 8, "124": 8, "82": 8, "198": 8, "220": 8, "97": 8, "123": 8, "167": 8, "71": [8, 16], "214": 8, "121": 8, "113": 8, "153": 8, "207": 8, "119": 8, "57": [8, 17], "83": 8, "109": 8, "figur": 8, "abov": [8, 10, 16], "roughli": 8, "abl": [8, 16], "magnitud": 8, "gap": 8, "normal": 8, "entail": 8, "section": 8, "comprehens": 8, "current": [8, 10, 11], "avail": [8, 10, 11, 17], "summar": 8, "due": [8, 12], "limit": 8, "onli": [8, 10, 11, 14, 16, 17], "demonstr": [8, 15, 17], "partial": 8, "full": [8, 16, 17], "found": [8, 17], "here": [8, 16], "sheet": 8, "0501": 8, "own": [8, 10, 11, 15, 16], "http": [8, 11, 16, 17], "optimalscal": [8, 17], "github": [8, 11, 17], "io": [8, 17], "task_guid": 8, "html": 8, "robin": 8, "some": [8, 11, 16, 17], "popular": [8, 16], "try": [8, 16], "onlin": [8, 15], "demo": [8, 13], "com": [8, 11, 17], "especi": 8, "base": [8, 15, 16, 17], "observ": [8, 17], "without": [8, 16], "foundat": [8, 15, 17], "do": [8, 16, 17], "after": [8, 11], "obtain": [8, 12, 15, 17], "gain": [8, 17], "achiev": [8, 17], "better": [8, 17], "en_multi_round_chat": 8, "en_singe_round_chat": 8, "188": 8, "213": 8, "164": 8, "181": 8, "172": 8, "163": 8, "184": 8, "173": 8, "155": 8, "175": 8, "165": 8, "150": 8, "170": 8, "160": 8, "146": 8, "qualit": 8, "via": [8, 15], "case": [8, 12, 16], "turn": [8, 16], "out": [8, 16, 17], "both": [8, 15, 17], "effortlessli": 8, "slight": 8, "mistak": 8, "where": [8, 10, 15, 16], "sometim": 8, "doesn": 8, "t": [8, 16], "count": 8, "item": [8, 11], "correctli": [8, 16], "while": [8, 17], "mexican": 8, "food": 8, "intern": 8, "cuisin": 8, "recommend": [8, 16], "omit": 8, "choic": 8, "question": [8, 10], "r1": 8, "capit": 8, "usa": 8, "unit": 8, "state": 8, "washington": 8, "d": [8, 16], "c": 8, "district": 8, "columbia": 8, "locat": 8, "east": 8, "coast": 8, "countri": 8, "northern": 8, "part": [8, 15], "maryland": 8, "name": [8, 10, 11], "georg": 8, "presid": 8, "feder": 8, "mean": [8, 16], "ani": [8, 16, 17], "directli": [8, 11, 12, 17], "administ": 8, "govern": 8, "citi": 8, "home": [8, 16], "mani": [8, 16], "nation": 8, "landmark": 8, "white": 8, "hous": [8, 16], "capitol": 8, "build": [8, 16], "suprem": 8, "court": 8, "museum": 8, "monument": 8, "cultur": [8, 16], "institut": 8, "virginia": 8, "r2": 8, "you": [8, 10, 11, 12, 16, 17], "divers": 8, "scene": 8, "restaur": 8, "american": 8, "classic": 8, "There": [8, 16], "serv": [8, 17], "dish": 8, "hamburg": 8, "hot": 8, "dog": 8, "appl": 8, "pie": 8, "seafood": 8, "chesapeak": 8, "bai": 8, "known": 8, "fresh": 8, "crab": 8, "cake": 8, "shrimp": 8, "oyster": 8, "ethnic": 8, "popul": 8, "world": [8, 15], "chines": 8, "japanes": 8, "korean": 8, "barbecu": 8, "pull": 8, "pork": 8, "rib": 8, "brisket": 8, "donut": 8, "famou": 8, "happi": [8, 16], "shop": 8, "varieti": 8, "flavor": 8, "top": 8, "street": 8, "truck": 8, "stand": 8, "falafel": 8, "kebab": 8, "taco": 8, "These": 8, "few": [8, 17], "someth": [8, 16], "come": 8, "wide": [8, 17], "rang": [8, 16, 17], "visit": 8, "soul": 8, "origin": [8, 12, 16], "southern": 8, "bold": 8, "hearti": 8, "portion": 8, "fri": 8, "chicken": 8, "collard": 8, "green": 8, "macaroni": 8, "chees": 8, "ethiopian": 8, "spici": 8, "injera": 8, "sourdough": 8, "flatbread": 8, "wat": 8, "veget": 8, "stew": 8, "kitfo": 8, "meat": 8, "pasta": 8, "bbq": 8, "thrive": 8, "up": [8, 16], "slow": 8, "cook": 8, "side": 8, "spot": 8, "ben": 8, "chili": 8, "bowl": 8, "pete": 8, "vegetarian": 8, "smoke": 8, "barrel": 8, "hub": 8, "diplomaci": 8, "culinari": 8, "around": 8, "indian": 8, "r3": 8, "specif": [8, 10, 16, 17], "about": [8, 15, 16, 17], "fifth": 8, "sure": [8, 16], "mention": 8, "usual": 8, "made": [8, 16], "flame": 8, "heat": [8, 16], "coal": 8, "often": [8, 15], "marin": 8, "sauc": 8, "typic": [8, 16], "coleslaw": 8, "bake": 8, "bean": 8, "corn": 8, "cob": 8, "most": [8, 10, 16], "pit": 8, "smokehous": 8, "joint": 8, "salt": 8, "line": 8, "sovereign": 8, "offer": 8, "delici": 8, "margarita": 8, "adam": 8, "morgan": 8, "authent": 8, "year": [8, 17], "al": 8, "pastor": 8, "grill": 8, "enchilada": 8, "fill": 8, "tortilla": 8, "chile": 8, "relleno": 8, "stuf": 8, "pepper": 8, "el": 8, "comal": 8, "cozi": 8, "littl": 8, "height": 8, "neighborhood": 8, "20": 8, "mole": 8, "rich": 8, "blend": 8, "spice": 8, "chocol": 8, "de": 8, "carnita": 8, "crispi": 8, "queso": 8, "casa": 8, "oaxaca": 8, "upscal": 8, "shaw": 8, "menu": 8, "featur": 8, "modern": 8, "cevich": 8, "raw": [8, 10], "fish": 8, "lime": 8, "juic": 8, "negro": 8, "dark": 8, "en": 8, "nogada": 8, "poblano": 8, "walnut": 8, "honei": 8, "king": 8, "chain": 8, "area": [8, 17], "burrito": 8, "afford": [8, 16], "price": 8, "carn": 8, "asada": 8, "quesadilla": 8, "lo": 8, "No": 8, "small": 8, "casual": 8, "adobada": 8, "detail": [8, 11, 13, 16], "real": [8, 15], "histori": [8, 16], "collect": 8, "183": 8, "english": 8, "total": 8, "447": 8, "alreadi": [8, 16], "break": 8, "multipl": [8, 17], "text": [8, 10, 12, 14, 15, 16], "pair": [8, 10, 11], "q1": 8, "a1": 8, "q2": 8, "a2": 8, "q3": 8, "a3": 8, "q": 8, "answer": [8, 10, 11, 16], "get": [8, 11, 12, 14, 16], "three": [8, 10, 16], "ouptut": 8, "sens": 8, "acquir": [8, 17], "factual": 8, "knowledg": [8, 17], "them": [8, 10, 11, 12, 16, 17], "properli": 8, "regard": 8, "degrad": 8, "still": [8, 16, 17], "competit": 8, "arc_easi": 8, "60": [8, 17], "72": [8, 17], "38": 8, "55": [8, 17], "63": [8, 17], "77": 8, "40": [8, 17], "75": [8, 17], "254": 8, "89": 8, "266": 8, "147": 8, "106": 8, "219": 8, "258": 8, "151": 8, "105": 8, "141": 8, "95": 8, "88": 8, "262": 8, "149": 8, "140": 8, "240": 8, "139": 8, "surpris": 8, "actual": [8, 16], "lead": [8, 15], "consequ": [8, 15], "hallucin": 8, "tend": 8, "give": [8, 16], "plausibl": 8, "incorrect": 8, "irrelev": 8, "explan": 8, "phenomenon": [8, 16], "pretrain": [8, 12, 17], "attempt": 8, "fit": 8, "see": [8, 16], "suffer": 8, "less": 8, "conjectur": 8, "improv": [8, 16, 17], "brought": 8, "higher": 8, "qualiti": [8, 15], "sharegpt": 8, "data": [8, 10, 11, 12, 15, 16, 17], "900mb": 8, "wa": [8, 15], "epoch": 8, "600mb": 8, "suggest": 8, "stage": 8, "critic": 8, "run": [8, 10, 11, 12, 16], "monei": 8, "compet": [8, 17], "show": [8, 13, 16], "possess": 8, "note": [8, 11, 17], "go": [8, 12], "friend": 8, "door": 8, "lock": 8, "smell": 8, "ga": 8, "window": 8, "quickli": 8, "possibl": 8, "fire": [8, 16], "depart": 8, "compani": 8, "flammabl": 8, "danger": 8, "even": 8, "deadli": 8, "ventil": 8, "becaus": 8, "could": [8, 16], "caus": [8, 16], "explos": 8, "escap": 8, "cannot": 8, "leav": 8, "safe": [8, 16], "stai": 8, "calm": 8, "wait": 8, "arriv": 8, "situat": [8, 16], "injuri": 8, "damag": [8, 16, 17], "yourself": 8, "addition": [8, 16], "illeg": 8, "enter": 8, "properti": 8, "permiss": 8, "homeown": 8, "locksmith": 8, "assist": [8, 11, 16], "unabl": 8, "emerg": 8, "servic": 8, "polic": 8, "meantim": 8, "lighter": 8, "match": 8, "leak": 8, "evacu": 8, "immedi": 8, "inde": 8, "injur": 8, "bring": 8, "my": [8, 16], "pet": 8, "ferret": 8, "beauti": 8, "pacif": 8, "island": 8, "attend": 8, "icml": 8, "m": [8, 16], "sorri": 8, "am": 8, "awar": [8, 17], "polici": 8, "confer": 8, "would": [8, 16], "best": [8, 15, 16], "check": 8, "organ": [8, 16], "local": 8, "author": [8, 17], "determin": 8, "allow": [8, 17], "necessari": 8, "procedur": [8, 15, 16], "permit": 8, "proper": 8, "licens": 8, "carri": [8, 16], "diseas": 8, "peopl": [8, 16], "toxoplasmosi": 8, "salmonellosi": 8, "priorit": 8, "health": 8, "safeti": 8, "crowd": 8, "event": 8, "held": [8, 17], "hawaii": 8, "strictli": 8, "prohibit": 8, "potenti": 8, "carrier": 8, "rabi": 8, "viru": 8, "eleuth": [8, 11], "ai": [8, 16, 17], "lm": [8, 13], "har": [8, 11], "repositori": [8, 17], "eleutherai": [8, 11, 16], "sentenc": 8, "final": 8, "expect": 8, "loyal": 8, "obei": 8, "being": [8, 16], "ethic": [8, 15], "legal": [8, 17], "appropri": [8, 16], "gpt4_en_instruct": 8, "alpaca": [8, 10, 12], "222": 8, "211": 8, "206": 8, "180": 8, "respons": [8, 15, 16, 17], "quicksort": 8, "ye": [8, 16], "implement": [8, 11], "algorithm": [8, 13], "python": [8, 11, 12, 17], "def": [8, 14, 15, 16], "arr": 8, "len": [8, 14, 16], "return": [8, 15, 16], "pivot": 8, "left": 8, "x": [8, 16], "middl": 8, "right": 8, "element": [8, 17], "arrai": 8, "partit": 8, "sub": 8, "than": [8, 16], "equal": 8, "greater": 8, "recurs": 8, "appli": [8, 10, 17], "concaten": 8, "sort": [8, 16], "unsort": 8, "time": [8, 16], "complex": 8, "o": [8, 14], "n": [8, 11, 17], "although": [8, 16], "faster": 8, "practic": 8, "carefulli": 8, "chosen": [8, 11, 16], "subarrai": 8, "produc": 8, "pass": [8, 14, 17], "through": 8, "synonym": 8, "word": 8, "down": 8, "how": [8, 13, 16], "term": 8, "usag": 8, "etc": [8, 17], "advers": 8, "difficulti": 8, "hardship": 8, "troubl": [8, 16], "misfortun": 8, "hard": [8, 16], "unpleas": 8, "circumst": [8, 16], "connot": 8, "difficult": 8, "hostil": 8, "extern": 8, "factor": 8, "enemi": 8, "natur": [8, 17], "disast": 8, "mild": 8, "inconveni": 8, "major": 8, "setback": 8, "distress": 8, "financi": 8, "bad": 8, "luck": 8, "ill": [8, 15], "fate": 8, "period": 8, "econom": 8, "social": 8, "struggl": 8, "oppress": 8, "trial": [8, 16], "afflict": 8, "calam": 8, "tribul": 8, "10": [8, 16], "condit": 8, "describ": 8, "impli": 8, "intens": 8, "battl": 8, "conflict": 8, "obstacl": 8, "injustic": 8, "proceed": 8, "persecut": [8, 16], "order": 8, "project": 8, "sampl": [8, 10, 15, 16], "000": 8, "manual": 8, "filter": [8, 16], "767": 8, "effect": [8, 17], "remain": 8, "too": 8, "nonsens": 8, "incomplet": 8, "input": [8, 10, 11, 12, 16], "domain": [8, 17], "chemistri": 8, "biologi": [8, 17], "alwai": [8, 16], "fail": 8, "accord": 8, "par": 8, "further": [8, 17], "surpass": [8, 17], "checkpoint": [8, 13, 15], "now": [8, 12], "download": [8, 10, 11, 12, 15], "Its": [8, 10, 17], "essenti": 8, "lmsy": 8, "org": [8, 16], "lmflow": [9, 13, 14, 15, 16], "benchmark": [9, 13], "an": [9, 15, 16, 17], "automat": 9, "evalu": [9, 10, 12, 16, 17], "open": [9, 11, 17], "llm": 9, "cd": [10, 11, 12, 15], "sh": [10, 11, 12, 15, 16], "replac": [10, 16], "e": [10, 11, 17], "g": 10, "custom": [10, 13, 16], "strongli": 10, "encourag": [10, 15], "prompt": [10, 16, 17], "techniqu": [10, 17], "variou": [10, 17], "follow": [10, 11, 16, 17], "below": [10, 11, 17], "accept": 10, "pipelin": [10, 14, 15, 17], "hug": 10, "To": [10, 15, 16, 17], "specifi": [10, 11], "json": [10, 11, 12, 14, 16], "file": [10, 13, 14, 17], "directori": 10, "path_to_dataset": 10, "data_1": 10, "data_2": 10, "another_data": 10, "each": [10, 16], "shall": [10, 17], "four": 10, "key_1": 10, "value_1": 10, "key_2": 10, "key_3": 10, "key_4": 10, "value_2": 10, "value_3": 10, "interpret": 10, "decod": 10, "encod": 10, "text_onli": [10, 11, 15, 16], "sample_text_1": 10, "sample_text_2": 10, "sample_text_3": 10, "example_dataset": 10, "train_50": 10, "mostli": 10, "inferenc": 10, "sample_input_1": 10, "sample_output_1": 10, "sample_input_2": 10, "sample_output_2": 10, "sample_input_3": 10, "sample_output_3": 10, "test_13": 10, "support": [11, 12, 13, 15], "add": 11, "repo": 11, "easili": [11, 17], "metric": 11, "fork": 11, "main": [11, 14, 17], "clone": [11, 17], "branch": 11, "instal": 11, "git": [11, 17], "usernam": 11, "checkout": 11, "b": 11, "conda": [11, 17], "y": [11, 17], "activ": [11, 17], "mpi4pi": [11, 17], "pip": [11, 17], "refer": [11, 13, 17], "step": [11, 13], "text2text": [11, 13], "notic": 11, "answer_typ": [11, 12], "prepar": [11, 16, 17], "put": 11, "dir": 11, "mkdir": 11, "mv": 11, "path": [11, 12, 14], "py": [11, 12, 15, 16], "info": 11, "local_datset_group_map": 11, "local_datset_map": 11, "local_datset_answertype_map": 11, "valu": [11, 15], "want": [11, 16], "combin": 11, "task_combin": 11, "task_1": 11, "task_2": 11, "rememb": 11, "separ": 11, "finish": 11, "chang": 11, "deepspe": [11, 12, 14], "use_ram_optimized_load": 11, "fals": [11, 16], "model_name_or_path": [11, 12, 16], "model_nam": 11, "ds_config": [11, 12], "prompt_structur": [11, 12], "tee": 11, "log_dir": 11, "err": 11, "integr": 11, "benchamrk": 11, "execut": 11, "command": [11, 16, 17], "simpli": 11, "lm_eval_dataset_map": 11, "pleas": [11, 17], "exact": 11, "similarli": 11, "load": 12, "slightli": 12, "copyright": 12, "facebookresearch": 12, "offici": 12, "save": [12, 17], "second": 12, "convert": 12, "huggingfac": [12, 16], "hf": 12, "convert_llama_weights_to_hf": 12, "input_dir": 12, "model_s": 12, "output_dir": 12, "Then": [12, 16], "enjoi": [12, 16], "With": 12, "output_model": [12, 15], "By": [12, 17], "run_evaluation_with_lora": 12, "cuda_visible_devic": 12, "lora_model_path": 12, "diff": 12, "dataset_path": [12, 16], "packag": [13, 17], "your": [13, 15, 16], "format": 13, "textonli": 13, "sft": 13, "align": 13, "reward": 13, "introduct": 13, "supervis": [13, 15], "rank": [13, 16], "raft": 13, "guid": [13, 16], "setup": 13, "registr": 13, "sy": 14, "hfargumentpars": 14, "autoargu": 14, "tunable_model": 14, "tunablemodel": 14, "auto_pipelin": 14, "autopipelin": 14, "pars": 14, "pipeline_nam": 14, "pipelineargu": 14, "get_pipeline_args_class": 14, "parser": 14, "argv": 14, "endswith": 14, "let": [14, 16], "model_arg": 14, "data_arg": 14, "pipeline_arg": 14, "parse_json_fil": 14, "json_fil": 14, "abspath": 14, "els": [14, 16], "parse_args_into_dataclass": 14, "todo": 14, "initi": 14, "get_pipelin": 14, "group": 14, "must": [14, 17], "done": [14, 15], "main_process_first": 14, "desc": 14, "map": [14, 16], "tokenized_dataset": 14, "lm_dataset": 14, "group_text": 14, "model_max_length": 14, "get_max_length": 14, "tuned_model": 14, "unsupervis": 15, "implicit": 15, "bias": 15, "Such": 15, "low": 15, "substanti": 15, "therefor": [15, 17], "prefer": [15, 16], "becom": 15, "crucial": [15, 17], "ensur": 15, "behav": 15, "previou": [15, 16], "primarili": 15, "reli": [15, 17], "reinforc": [15, 16], "learn": [15, 16, 17], "feedback": [15, 16], "rlhf": [15, 16], "overcom": 15, "rl": 15, "despit": [15, 17], "feasibl": 15, "ineffici": 15, "instabl": 15, "pose": 15, "signific": [15, 17], "urgent": 15, "streamlin": [15, 17], "enhanc": [15, 17], "propos": 15, "suffici": 15, "number": 15, "reject": [15, 16], "ones": 15, "construct": 15, "stream": 15, "offlin": 15, "furthermor": 15, "gradient": 15, "free": 15, "black": 15, "box": 15, "perform": [15, 16, 17], "movi": 15, "review": 15, "topic": 15, "interact": [15, 16], "bot": 15, "share": 15, "favorit": 15, "run_raft_align": 15, "llama7b": 15, "regist": 15, "function": [15, 16, 17], "raft_align": 15, "reward_of": 15, "float": 15, "end": 15, "reward_funct": 15, "text_dataset": 15, "data_dict": 15, "to_dict": 15, "assert": 15, "text_list": 15, "reward_list": 15, "create_from_dict": 15, "float_onli": 15, "reward_model": 15, "register_inference_funct": 15, "adjust": 16, "instructgpt": [16, 17], "paper": 16, "arxiv": 16, "ab": 16, "2203": 16, "02155": 16, "dahoa": 16, "hh": 16, "consist": 16, "particular": [16, 17], "112k": 16, "12": 16, "5k": 16, "what": 16, "kind": 16, "nois": 16, "did": 16, "dinosaur": 16, "didn": 16, "live": 16, "same": 16, "realli": 16, "sai": 16, "place": 16, "guess": 16, "lot": 16, "read": 16, "amount": 16, "imagin": 16, "re": 16, "cant": 16, "stuff": 16, "don": 16, "know": 16, "10k": 16, "12k": 16, "split": 16, "hh_rlhf": 16, "ad": 16, "prefix": 16, "post": 16, "illustr": 16, "bui": 16, "protect": 16, "cell": 16, "phone": 16, "pocket": 16, "purs": 16, "But": 16, "quick": 16, "harm": 16, "parent": 16, "screen": 16, "thing": 16, "off": 16, "reason": 16, "back": 16, "won": 16, "anyth": 16, "aren": 16, "thank": 16, "me": 16, "welcom": 16, "salam": 16, "witch": 16, "look": 16, "book": 16, "witchcraft": 16, "histor": 16, "inform": [16, 17], "salem": 16, "1692": 16, "interest": 16, "coloni": 16, "america": 16, "might": 16, "excel": 16, "religion": 16, "declin": 16, "magic": 16, "studi": 16, "belief": 16, "sixteenth": 16, "seventeenth": 16, "centuri": 16, "england": 16, "keith": 16, "thoma": 16, "otherworld": 16, "anthropologi": 16, "superstit": 16, "jack": 16, "goodi": 16, "relat": [16, 17], "popish": 16, "plot": 16, "prelat": 16, "j": 16, "everett": 16, "edit": 16, "run_finetun": 16, "modifi": 16, "neo": 16, "project_dir": 16, "run_finetune_with_lora": 16, "fortun": 16, "former": 16, "space": 16, "heater": 16, "hazard": 16, "tell": 16, "fireplac": 16, "room": 16, "materi": 16, "feel": 16, "touch": 16, "fuel": 16, "surround": 16, "switch": 16, "That": 16, "glad": 16, "teach": [16, 17], "kid": 16, "fort": 16, "structur": 16, "hide": 16, "Or": 16, "elabor": 16, "exactli": 16, "mayb": 16, "simplest": 16, "pile": 16, "furnitur": 16, "bit": 16, "taller": 16, "sturdier": 16, "start": 16, "fun": 16, "explor": 16, "run_reward_model": 16, "updat": 16, "desir": 16, "validation_split_percentag": 16, "paramet": [16, 17], "select": 16, "last": 16, "percentag": 16, "load_dataset": 16, "build_dataset": 16, "assum": [16, 17], "preprocess": 16, "answer_posit": 16, "answer_neg": 16, "tokenized_po": 16, "truncat": 16, "true": 16, "tokenized_neg": 16, "chosen_input_id": 16, "input_id": 16, "chosen_attention_mask": 16, "attention_mask": 16, "rejected_input_id": 16, "rejected_attention_mask": 16, "data_fil": 16, "batch": 16, "lambda": 16, "512": 16, "eval_dataset": 16, "none": 16, "idx_gap": 16, "int": 16, "100": 16, "train_dataset": 16, "loss": 16, "nn": 16, "logsigmoid": 16, "chosen_reward": 16, "rejected_reward": 16, "fine": [16, 17], "eval": 16, "record": 16, "remark": [16, 17], "wandb": 16, "weixiong5237": 16, "t3uwm8yp": 16, "p2ju3r1a": 16, "rm": 16, "24": [16, 17], "8fc1rcf8": 16, "7oemwynu": 16, "10000": 16, "toolbox": 17, "machin": 17, "design": 17, "friendli": 17, "speedi": 17, "entir": 17, "backbon": 17, "galactica": 17, "light": 17, "weight": 17, "extrem": 17, "33b": 17, "25mb": 17, "storag": 17, "orient": 17, "whole": 17, "expans": 17, "except": 17, "capac": 17, "attain": 17, "intellig": 17, "convent": 17, "grow": 17, "cater": 17, "maintain": 17, "overal": 17, "lightweight": 17, "thoughtfulli": 17, "tool": 17, "publicli": 17, "maxim": 17, "thoroughli": 17, "goal": 17, "profici": 17, "medicin": 17, "mathemat": 17, "adapt": 17, "target": 17, "subject": 17, "matter": 17, "medic": 17, "emphas": 17, "pubmedqa": 17, "medmcqa": 17, "medqa": 17, "usml": 17, "50": 17, "expert": 17, "87": 17, "90": 17, "175b": 17, "46": 17, "54": 17, "27": 17, "18": 17, "43": 17, "25": 17, "49": 17, "51": 17, "moreov": 17, "mmlu": 17, "verifi": 17, "robust": 17, "anatomi": 17, "clinic": 17, "colleg": 17, "genet": 17, "profession": 17, "32": 17, "36": 17, "30b": 17, "26": 17, "23": 17, "120b": 17, "21": 17, "176b": 17, "29": 17, "gopher": 17, "280b": 17, "gpt3": 17, "constraint": 17, "unseen": 17, "incorpor": 17, "cue": 17, "relev": 17, "power": 17, "approach": 17, "unlock": 17, "product": 17, "jsonl": 17, "readm": 17, "blog": 17, "misc": 17, "kashun": 17, "titl": 17, "publish": 17, "journal": 17, "howpublish": 17, "url": 17, "aim": 17, "intend": 17, "li": 17, "sole": 17, "guarante": 17, "complet": 17, "compon": 17, "risk": 17, "liabil": 17, "associ": 17, "commerci": 17, "technic": 17, "advic": 17, "befor": 17, "direct": 17, "indirect": 17, "special": 17, "incident": 17, "consequenti": 17, "improp": 17, "highlight": 17, "probabilist": 17, "seek": 17, "outcom": 17, "account": 17, "relianc": 17, "submit": 17, "index": 17, "search": 17}, "objects": {"lmflow": [[3, 0, 0, "-", "args"]], "": [[6, 0, 0, "-", "lmflow_benchmark"]], "lmflow_benchmark": [[6, 1, 1, "", "__version__"], [5, 0, 0, "-", "args"], [6, 1, 1, "", "internal_version"], [7, 0, 0, "-", "version"]], "lmflow_benchmark.args": [[5, 2, 1, "", "BenchmarkingArguments"]], "lmflow_benchmark.args.BenchmarkingArguments": [[5, 3, 1, "", "dataset_name"], [5, 3, 1, "", "lm_evaluation_metric"]], "lmflow_benchmark.version": [[7, 1, 1, "", "__version__"]]}, "objtypes": {"0": "py:module", "1": "py:data", "2": "py:class", "3": "py:attribute"}, "objnames": {"0": ["py", "module", "Python module"], "1": ["py", "data", "Python data"], "2": ["py", "class", "Python class"], "3": ["py", "attribute", "Python attribute"]}, "titleterms": {"contributor": 0, "changelog": 1, "version": [1, 7], "0": 1, "1": [1, 11, 16], "mar": 1, "28": 1, "2023": [1, 9], "about": 2, "lmflow": [3, 8, 11, 17], "arg": [3, 5], "api": 4, "refer": [4, 8], "lmflow_benchmark": [5, 6, 7], "modul": [5, 7], "content": [5, 6, 7, 17], "class": 5, "submodul": 6, "packag": 6, "benchmark": [8, 11], "an": 8, "automat": 8, "evalu": [8, 11, 13], "framework": 8, "open": 8, "sourc": 8, "llm": 8, "introduct": [8, 15, 16, 17], "metric": 8, "chat": 8, "perform": 8, "commonsens": 8, "instruct": [8, 17], "follow": 8, "conclus": 8, "blog": 9, "dataset": [10, 11], "format": 10, "gener": 10, "support": [10, 17], "detail": 10, "textonli": 10, "text2text": 10, "guid": 11, "nll": 11, "task": [11, 17], "set": 11, "setup": 11, "creat": 11, "your": 11, "file": 11, "registr": 11, "2": [11, 16], "lm": 11, "checkpoint": [12, 17], "llama": 12, "exampl": [13, 16], "data": 13, "prepar": 13, "finetun": [13, 14, 15, 16], "infer": 13, "reward": [15, 16], "rank": 15, "raft": 15, "algorithm": 15, "demo": 15, "custom": 15, "align": 15, "model": 16, "step": 16, "supervis": 16, "sft": 16, "featur": 17, "tune": 17, "instal": 17, "citat": 17, "disclaim": 17, "indic": 17, "tabl": 17}, "envversion": {"sphinx.domains.c": 2, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 8, "sphinx.domains.index": 1, "sphinx.domains.javascript": 2, "sphinx.domains.math": 2, "sphinx.domains.python": 3, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "sphinx.ext.todo": 2, "sphinx.ext.viewcode": 1, "sphinx": 57}, "alltitles": {"Contributors": [[0, "contributors"]], "Changelog": [[1, "changelog"]], "Version 0.0.1 (Mar 28, 2023)": [[1, "version-0-0-1-mar-28-2023"]], "About": [[2, "about"]], "lmflow.args": [[3, "module-lmflow.args"]], "API Reference": [[4, "api-reference"]], "lmflow_benchmark.args": [[5, "module-lmflow_benchmark.args"]], "Module Contents": [[5, "module-contents"], [7, "module-contents"]], "Classes": [[5, "classes"]], "lmflow_benchmark": [[6, "module-lmflow_benchmark"]], "Submodules": [[6, "submodules"]], "Package Contents": [[6, "package-contents"]], "lmflow_benchmark.version": [[7, "module-lmflow_benchmark.version"]], "LMFlow Benchmark: An Automatic Evaluation Framework for Open-Source LLMs": [[8, "lmflow-benchmark-an-automatic-evaluation-framework-for-open-source-llms"]], "Introduction": [[8, "introduction"], [15, "introduction"], [16, "introduction"], [17, "introduction"]], "Metric": [[8, "metric"]], "Chat Performance": [[8, "chat-performance"]], "CommonSense Performance": [[8, "commonsense-performance"]], "Instruction Following": [[8, "instruction-following"]], "Conclusion": [[8, "conclusion"]], "References": [[8, "references"]], "Blogs": [[9, "blogs"]], "2023": [[9, "id1"]], "Dataset": [[10, "dataset"]], "Dataset Format in General": [[10, "dataset-format-in-general"]], "Supported Dataset and Detailed Formats": [[10, "supported-dataset-and-detailed-formats"]], "TextOnly": [[10, "textonly"]], "Text2Text": [[10, "text2text"]], "LMFlow Benchmark Guide": [[11, "lmflow-benchmark-guide"]], "1. NLL Task Setting": [[11, "nll-task-setting"]], "Setup": [[11, "setup"]], "Create Your Task Dataset File": [[11, "create-your-task-dataset-file"]], "Task Registration": [[11, "task-registration"]], "2. LM-Evaluation Task Setting": [[11, "lm-evaluation-task-setting"]], "Checkpoints": [[12, "checkpoints"], [17, "checkpoints"]], "LLaMA Checkpoint": [[12, "llama-checkpoint"]], "Examples": [[13, "examples"], [16, "examples"]], "Data preparation": [[13, "data-preparation"]], "Finetuning": [[13, "finetuning"]], "Inference": [[13, "inference"]], "Evaluation": [[13, "evaluation"]], "Finetune": [[14, "finetune"]], "Reward rAnked FineTuning (RAFT)": [[15, "reward-ranked-finetuning-raft"]], "Algorithm": [[15, "algorithm"]], "Demo": [[15, "demo"]], "Customized Alignments": [[15, "customized-alignments"]], "Reward Modeling": [[16, "reward-modeling"]], "Step 1 Supervised Finetuning (SFT)": [[16, "step-1-supervised-finetuning-sft"]], "Step 2 Reward Modeling": [[16, "step-2-reward-modeling"]], "LMFlow": [[17, "lmflow"]], "Features": [[17, "features"]], "Task Tuning": [[17, "task-tuning"]], "Instruction Tuning": [[17, "instruction-tuning"]], "Installation": [[17, "installation"]], "Content": [[17, "content"]], "Citation": [[17, "citation"]], "Disclaimer": [[17, "disclaimer"]], "Support": [[17, "support"]], "Indices and tables": [[17, "indices-and-tables"]]}, "indexentries": {"lmflow.args": [[3, "module-lmflow.args"]], "module": [[3, "module-lmflow.args"], [5, "module-lmflow_benchmark.args"], [6, "module-lmflow_benchmark"], [7, "module-lmflow_benchmark.version"]], "benchmarkingarguments (class in lmflow_benchmark.args)": [[5, "lmflow_benchmark.args.BenchmarkingArguments"]], "dataset_name (lmflow_benchmark.args.benchmarkingarguments attribute)": [[5, "lmflow_benchmark.args.BenchmarkingArguments.dataset_name"]], "lm_evaluation_metric (lmflow_benchmark.args.benchmarkingarguments attribute)": [[5, "lmflow_benchmark.args.BenchmarkingArguments.lm_evaluation_metric"]], "lmflow_benchmark.args": [[5, "module-lmflow_benchmark.args"]], "__version__ (in module lmflow_benchmark)": [[6, "lmflow_benchmark.__version__"]], "internal_version (in module lmflow_benchmark)": [[6, "lmflow_benchmark.internal_version"]], "lmflow_benchmark": [[6, "module-lmflow_benchmark"]], "__version__ (in module lmflow_benchmark.version)": [[7, "lmflow_benchmark.version.__version__"]], "lmflow_benchmark.version": [[7, "module-lmflow_benchmark.version"]]}})